@model PRJ_FINAL_MP09_MP03.Models.User

@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Perfil de @Model.Username</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/css/profile.css" rel="stylesheet" />
</head>
<body>

<div class="profile-container">
    <div class="profile-card">
        <div class="glow-border"></div>
        <div class="profile-content text-center">
            <h2 class="profile-title">👤 Perfil de @Model.Username</h2>
            <div class="info-group">
                <p><strong>📧 Email:</strong> @Model.Email</p>
                <p><strong>🔐 Rol:</strong> @Model.Role</p>
                <p><strong>🕓 Fecha de creación:</strong> @Model.CreatedAt.ToString("dd/MM/yyyy HH:mm")</p>
                <p><strong>🛠️ Última actualización:</strong> @Model.UpdatedAt.ToString("dd/MM/yyyy HH:mm")</p>
            </div>

            <!-- Botón para abrir modal -->
            <button type="button" class="btn btn-danger btn-glow mt-4" id="logout-link">
                Cerrar sesión
            </button>
        </div>
    </div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/profile.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const logoutLink = document.getElementById('logout-link');
        if (logoutLink) {
          logoutLink.addEventListener('click', function (e) {
            e.preventDefault();
            Swal.fire({
              title: '¿Seguro que quieres cerrar sesión?',
              text: "Se cerrará tu sesión en la aplicación.",
              icon: 'warning',
              showCancelButton: true,
              confirmButtonColor: '#d33',
              cancelButtonColor: '#3085d6',
              confirmButtonText: 'Sí, cerrar sesión',
              background: '#1a1a1a',
              color: '#f1f1f1',
              customClass: {
                popup: 'rounded-4 shadow-lg',
                confirmButton: 'btn btn-danger',
                cancelButton: 'btn btn-secondary me-3'
              }
            }).then((result) => {
              if (result.isConfirmed) {
                window.location.href = '@Url.Action("Logout", "Account")';
              }
            });
          });
        }
      });
    </script>
</body>
</html>
